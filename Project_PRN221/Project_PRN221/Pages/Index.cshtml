@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    //var special = Model.ListProducts.Where(p => p.CategoryId == 2);
    //var standard = Model.ListProducts.Where(p => p.CategoryId == 1);
    //int pageNum = (int)ViewData["CurentPage"];
    //int total = (int)ViewData["TotalPage"];
    //int next = pageNum + 1;
    //int prev = pageNum - 1;
}
@*<section class="page-info set-bg" >
    <div class="section-header">
        <h1 class="text-white">Menu</h1>
        <span>~ Delicious food ~</span>
    </div>
</section>*@

<!-- SHOP LIST -->
<section class="section-primary pt-150 pb-113 shop-list">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <div class="sorting">
                    <form method="get" class="woocommerce-ordering">
                        <div class="woocommerce-result-count">
                            Tìm kiếm văn bản
                            @*Showing @Model.CurrentProducts of @Model.TotalProducts results*@
                        </div>
                        
                        <div class="form-holder">
                            
                            <select id="sortSelect" name="orderby" class="orderby form-control">
                                <option value="">Lĩnh vực</option>
                                <option value="asc">Sort: low to high</option>
                                <option value="desc">Sort: high to low</option>
                            </select>
                            <span class="lnr lnr-chevron-down"></span>
                        </div>
                         
                        <div class="form-holder">
                            <select id="sortSelect" name="orderby" class="orderby form-control">
                                
                                <option value=""> Cơ quan ban hành</option>
                                <option value="asc">Sort: low to high</option>
                                <option value="desc">Sort: high to low</option>
                            </select>
                            <span class="lnr lnr-chevron-down"></span>
                        </div>
                        <div class="form-holder">
                            <select id="sortSelect" name="orderby" class="orderby form-control">
                                
                                <option value="">Năm ban hành</option>
                                <option value="asc">Sort: low to high</option>
                                <option value="desc">Sort: high to low</option>
                            </select>
                            <span class="lnr lnr-chevron-down"></span>
                        </div>
                    </form>
                </div>
                <div class="row products">
                    <table class="table search-result" cellspacing="0" rules="all" border="1" id="ctrl_191017_163_grvDocument" style="border-style:None;width:100%;border-collapse:collapse;">
                        <tbody>
                            <tr>
                                <th class="CodeClass" scope="col">Số ký hiệu</th>
                                <th scope="col">Ngày ban hành</th>
                                <th scope="col">Trích yếu</th>
                            </tr>
                            <tr>
                                <td>
                                    <a href="/?pageid=27160&amp;docid=209071">
                                        <span class="code">1275/TTg-NN</span>
                                        <span class="issue-v2">01/12/2023</span>
                                    </a>
                                </td>
                                <td>
                                    <span class="issued-date">01/12/2023</span>
                                </td>
                                <td>
                                    <a href="/?pageid=27160&amp;docid=209071">
                                        <span class="substract">V/v chuyển mục đích sử dụng đất trồng lúa sang mục đích khác để thực hiện Dự án Đường kết nối đê bao ven biển với cầu Thứ Ba tại huyện An Biên, tỉnh Kiên Giang</span>
                                    </a>
                                    <div class="bl-issue-date">
                                        <span class="issued-date issued-date-inside">01/12/2023</span>
                                    </div>
                                    <div class="bl-doc-files">

                                        <div class="bl-doc-file"><a href="https://datafiles.chinhphu.vn/cpp/files/vbpq/2023/12/1275-nn.signed.pdf" target="_blank" download="">Tài liệu đính kèm</a></div>

                                    </div>
                                </td>
                            </tr>
                    </table>
                    @*@if (Model.Product.Count < 1)
                    {
                    @ViewData["NoProduct"]
                    }
                    @foreach (var items in Model.Product)
                    {
                    <div class="col-md-6 col-lg-4">
                    <div class="item">
                    <div class="thumb">
                    <a asp-page="/products/detail" asp-route-id="@items.Id" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                    <img src="@Url.Content(items.Image)" alt="" style="width: 100px;">
                    </a>
                    <a asp-page="/tasks/shop_cart" asp-page-handler="buy" asp-route-id="@items.Id" class="button product_type_simple add_to_cart_button ajax_add_to_cart">Add to cart</a>
                    </div>
                    <div class="info">
                    <h5 class="woocommerce-loop-product__title">
                    <a asp-page="/products/detail" asp-route-id="@items.Id">@items.ProductName</a>
                    </h5>
                    <div class="star-rating">
                    <i class="zmdi zmdi-star"></i>
                    <i class="zmdi zmdi-star"></i>
                    <i class="zmdi zmdi-star"></i>
                    <i class="zmdi zmdi-star"></i>
                    <i class="zmdi zmdi-star-outline"></i>
                    </div>
                    <span class="price">
                    <span class="woocommerce-Price-amount amount">
                    <span class="woocommerce-Price-currencySymbol">$</span>@String.Format("{0:.##}", items.Price)
                    </span>
                    </span>
                    </div>
                    </div>
                    </div>
                    }*@
                </div>
                <div class="woocommerce-pagination">
                    @*<ul class="page-numbers">
                    <li>
                    @if (pageNum == 1)
                    {
                    <a href="/products/menu?PageNum=@prev" hidden="hidden" class="page-numbers prev">
                    <span class="lnr lnr-arrow-left"></span>
                    </a>
                    }
                    else
                    {
                    <a href="/products/menu?PageNum=@prev" class="page-numbers prev">
                    <span class="lnr lnr-arrow-left"></span>
                    </a>
                    }
                    </li>
                    @for (var i = 1; i <= total; i++)
                    {
                    @if (pageNum == i)
                    {
                    <li>
                    <span class="page-numbers current"><a href="/products/menu?PageNum=@i">@i</a></span>
                    </li>
                    }
                    else
                    {
                    <li>
                    <a href="/products/menu?PageNum=@i" class="page-numbers inactive">@i</a>
                    </li>
                    }
                    }
                    <li>
                    @if (pageNum == total)
                    {
                    <a href="/products/menu?PageNum=@next" hidden="hidden" class="page-numbers next">
                    <span class="lnr lnr-arrow-right"></span>
                    </a>
                    }
                    else
                    {
                    <a href="/products/menu?PageNum=@next" class="page-numbers next">
                    <span class="lnr lnr-arrow-right"></span>
                    </a>
                    }
                    </li>
                    </ul>*@
                </div>
            </div>
            <div class="col-md-3">
                <div class="sidebar">
                    <!-- SEARCH -->
                    <div class="widgets widget_search">
                        <form method="get" class="search-form">
                            <input class="form-control" type="text" name="search" id="txtSearch" placeholder="Enter document name to search" value="@ViewData["txtSearch"]">
                            <button class="search-icon" id="btnSearch">
                                <span class="lnr lnr-magnifier"></span>
                            </button>
                        </form>
                    </div>
                    @*<!-- FILTER -->
                    <div class="widgets woocommerce widget_price_filter">
                    <div class="widget-title">
                    <h5>Filter by price</h5>
                    </div>
                    <form method="get">
                    <div class="price_slider_wrapper">
                    <div id="slider"></div>
                    <div class="price_slider_amount">
                    <div class="price_label">
                    Price:
                    <span class="from">
                    $<span id="lower-value">@ViewData["FromPrice"]</span>
                    </span> —
                    <span class="to">
                    $<span id="upper-value">@ViewData["ToPrice"]</span>
                    </span>
                    </div>
                    <button type="submit" class="button">Filter</button>
                    <button type="button" class="button" id="resetFiltersBtn">Reset Filters</button>
                    </div>
                    </div>
                    </form>
                    </div>*@
                    <!-- CATEGORIES -->
                    <div class="widgets widget_categories">
                        <div class="widget-title">
                            <h5>Loại văn bản</h5>
                        </div>
                        <ul>
                            <li>
                                <a href="/products/menu">All</a>
                            </li>
                            @*@foreach (var cate in Model.Category)
                            {
                            var productsInCategory = Model.Product.Count(p => p.CategoryId == cate.Id);
                            <li>
                            <a href="/products/menu?category=@cate.Id">@cate.CategoryName (<span>@cate.Products.Count</span>)</a>

                            </li>
                            }*@
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    document.getElementById("sortSelect").addEventListener("change", function () {
        var selectedSort = this.value;

        var currentUrl = window.location.href;
        var url = new URL(currentUrl);
        url.searchParams.set("sort", selectedSort);

        window.location.href = url;
    });
</script>